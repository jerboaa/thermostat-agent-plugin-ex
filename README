This is an example Thermostat[1] plug-in which adds a new agent
backend for collecting the data and a new command called
"kernel-cmdline".

SOFTWARE REQUIREMENTS:
-----------------------------------------------------------------

- Apache Maven 3.x
- Mercurial
- zip/unzip utility

BUILDING/INSTALLING:
-----------------------------------------------------------------

Steps to compile and deploy this plugin are as follows. Lines
preceded with # are comments.

$ THIS_PLUGIN=$(pwd)
$ hg clone http://icedtea.classpath.org/hg/release/thermostat-1.0
$ cd thermostat-1.0
$ THERMOSTAT_DEV_HOME=$(pwd)

# Update to last known to be compatible with this plugin version

$ hg update 869c5e163e7a

# Create a local repository which has thermostat-core 1.0
# in it

$ mkdir -p $(pwd)/thermostat-1.0-maven-build/
$ MAVEN_REPO=$(pwd)/thermostat-1.0-maven-build/repository

$ mvn -Dmaven.repo.local=$MAVEN_REPO clean install
$ cd $THIS_PLUGIN
$ mvn -Dmaven.repo.local=$MAVEN_REPO clean package
$ bash deploy.sh

RUNNING:
-----------------------------------------------------------------

After steps in BUILDING/INSTALLING:

$ cd $THERMOSTAT_DEV_HOME
$ ./distribution/target/image/thermostat help

This should show the "kernel-cmdline" command.

Enjoy!



[1] http://icedtea.classpath.org/thermostat/
